<mat-card class="responsive-mat-card">
    <mat-card-header class="card-header">
      <mat-card-title class="card-title">
        <h2 translate>Change Password</h2>
      </mat-card-title>
      <mat-error translate *ngIf="unauthorize">
        Invalid password
      </mat-error>
    </mat-card-header>
    <mat-card-content>
      <form
        [formGroup]="passwordForm"
        (ngSubmit)="onSubmit()"
        class="form-container"
      >
      <mat-form-field appearance="outline">
        <mat-label translate>Password</mat-label>
        <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" required />
        <button type="button" mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error
          translate
          *ngIf="passwordForm.get('password')?.errors?.['required']"
        >
        Old password is required.
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label translate>New password</mat-label>
        <input matInput [type]="hideNewPassword ? 'password' : 'text'" formControlName="newPassword" required />
        <button type="button" mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
          <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
     
        <mat-error
          translate
          *ngIf="passwordForm.get('password')?.errors?.['minlength']"
        >
          Password must be at least 6 characters long.
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label translate>Repeat new password</mat-label>
        <input matInput [type]="hideRepeatNewPassword ? 'password' : 'text'"formControlName="repeatNewPassword" required />
        <button type="button" mat-icon-button matSuffix (click)="hideRepeatNewPassword = !hideRepeatNewPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideRepeatNewPassword">
          <mat-icon>{{hideRepeatNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error
          translate
          *ngIf="passwordForm.get('repeatNewPassword')?.errors?.['required']"
        >
          You must repeat your password.
        </mat-error>
        <mat-error
          translate
          *ngIf="passwordForm.get('repeatNewPassword')?.errors?.['matching']"
        >
          Passwords must match.
        </mat-error>
      </mat-form-field>

        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!passwordForm.valid"
        >
        {{'Change' | translate}}
        </button>
      </form>
    </mat-card-content>
  
  </mat-card>
  